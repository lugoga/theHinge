require(patchwork)
load("d:/semba/presentation_IPSC/chapter1/wind.RData")
aug = wind.series[[12]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3, limits = c(0,15), guide_colorbar(title = "Speed(m/s)"))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), legend.position = "none")+
labs(subtitle = wind.series[[12]]$time %>% unique())
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE, preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3, limits = c(0,15))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
aug = wind.series[[12]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3, limits = c(0,15), guide = guide_colorbar(title = "Speed(m/s)"))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), legend.position = "none")+
labs(subtitle = wind.series[[12]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE, preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3, limits = c(0,15),
guide = guide_colorbar(title = "Speed(m/s)"))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE, preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3, limits = c(0,15),
guide = guide_colorbar(title = "Speed(m/s)", barheight = unit(4,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE, preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3, limits = c(0,15),
guide = guide_colorbar(title = "Speed(m/s)", barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE, preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3, limits = c(0,15),
guide = guide_colorbar(title = "Speed(m/s)", barwidth = unit(.4,"cm"), barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE, preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 5),
guide = guide_colorbar(title = "Speed(m/s)",
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE, preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = "Speed(m/s)",
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
aug = wind.series[[12]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = "Speed(m/s)",
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), legend.position = "none")+
labs(subtitle = wind.series[[12]]$time %>% unique())
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = "Speed(m/s)",
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = "Speed(m/s)",
title.position = "right",
title.theme = element_text(angle = 90),
title.vjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = "Speed(m/s)",
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed(ms^{-1}))),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
aug + dec
wio
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
ggspatial::stat_spatial_identity(data = wio, aes(label = name_long), geom = "label_repel")+
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
ggspatial::stat_spatial_identity(data = wio, aes(label = name_long), geom = "ggspatial::label_repel")+
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
ggspatial::geom_spatial_label_repel(data = wio, aes(label = name_long))+
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
wio %>% sf_transform_xy()
wio %>% st_drop_geometry()
wio %>% st_point_on_surface()
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
ggspatial::geom_spatial_label_repel(data = wio %>% st_point_on_surface(), aes(label = name_long))+
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
require(ggspatial)
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
ggspatial::stat_spatial_identity(data = wio %>% st_point_on_surface(), aes(label = name_long), geom = "label_repel")+
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
ggspatial::stat_spatial_identity(data = wio %>% st_point_on_surface(), aes(label = name_long), geom = "text")+
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
ggspatial::stat_spatial_identity(aes(label = name_long), geom = "text")+
# geom_sf_text(data = wio, aes(label = name_long))+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
dec = wind.series[[31]] %>% as_tibble() %>%
ggplot(aes(x = lon, y = lat))+
metR::geom_contour_fill(aes(z = speed))+
# metR::geom_contour2(aes(z = speed), breaks = seq(4,20,4))+
metR::geom_vector(aes(dx = ugrd10m, dy = vgrd10m), skip = 1, show.legend = FALSE,
preserve.dir = TRUE, arrow.type = "open", arrow.angle = 20)+
scale_fill_gradientn(colours = mycolor3,
limits = c(0,15),
breaks = scales::breaks_pretty(n = 10),
guide = guide_colorbar(title = expression(Wind~speed~(ms^{-1})),
title.position = "right",
title.theme = element_text(angle = 90),
title.hjust = .5,
barwidth = unit(.4,"cm"),
barheight = unit(6,"cm")))+
ggspatial::layer_spatial(data = wio)+
coord_sf(xlim = c(34,55), ylim = c(-23,4))+
metR::scale_mag(max = 15)+
theme_bw()+
theme(axis.title = element_blank(), axis.text.y = element_blank())+
labs(subtitle = wind.series[[31]]$time %>% unique())
aug + dec
citation("rwind")
citation("rWind")
knitr::opts_chunk$set(echo = TRUE, eval = TRUE, warning = FALSE, message = FALSE, comment = "")
getwd()
load("../data/wind.RData")
blogdown::serve_site()
aug + dec
require(shiny)
require(shinydashboard)
require(shinyWidgets)
require(tidyverse)
require(sf)
require(magrittr)
require(patchwork)
blogdown::serve_site()
git status
